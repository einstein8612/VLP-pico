#include <stdio.h>
#include <string.h>

#include "pico/stdlib.h"
#include "pico/stdio_usb.h"

#include "model/model.h"
#include "io/io.h"
#include "debug.h"

#include "data/data.h"

#include "degradation_model/degradation_model.h"

void add_samples()
{
    {
        float sample[TX_POSITIONS_COUNT] = {0.019025, 0.068280, 0.317706, 0.784193, 0.456925, 0.101194, 0.017022, 0.045814, 0.163224, 0.393913, 0.339229, 0.058876, 0.000000, 0.024701, 0.051711, 0.074979, 0.056923, 0.030329, 0.000000, 0.000000, 0.018538, 0.020698, 0.017992, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.688500, 0.306328, 0.065826, 0.018264, 0.000000, 0.000000, 0.502785, 0.256067, 0.061277, 0.017170, 0.000000, 0.000000, 0.141874, 0.082201, 0.028666, 0.000000, 0.000000, 0.000000, 0.030399, 0.026666, 0.016541, 0.000000, 0.000000, 0.000000, 0.011647, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.020654, 0.023569, 0.037702, 0.000000, 0.000000, 0.018725, 0.059012, 0.165916, 0.188557, 0.000000, 0.000000, 0.026010, 0.109132, 0.397361, 0.638069, 0.000000, 0.000000, 0.024079, 0.099310, 0.310426, 0.579730, 0.000000, 0.000000, 0.019218, 0.053453, 0.145556, 0.167014};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.246252, 0.242599, 0.080019, 0.024073, 0.012991, 0.000000, 0.664552, 0.559570, 0.170558, 0.037326, 0.014300, 0.000000, 0.411048, 0.389622, 0.108762, 0.028320, 0.010224, 0.000000, 0.098672, 0.099808, 0.049624, 0.017501, 0.000000, 0.000000, 0.026494, 0.022265, 0.018477, 0.000000, 0.000000, 0.000000, 0.011991, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.249842, 0.483536, 0.281801, 0.072191, 0.022399, 0.000000, 0.330538, 0.750088, 0.428586, 0.106503, 0.027025, 0.000000, 0.143068, 0.259726, 0.160754, 0.049904, 0.016700, 0.000000, 0.038871, 0.058726, 0.048342, 0.024616, 0.012071, 0.000000, 0.016369, 0.014504, 0.016303, 0.011854, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.040686, 0.025668, 0.024954, 0.000000, 0.000000, 0.000000, 0.180659, 0.163328, 0.060822, 0.022647, 0.000000, 0.000000, 0.595663, 0.469742, 0.147732, 0.033062, 0.014381, 0.000000, 0.609540, 0.479376, 0.147544, 0.034097, 0.000000, 0.000000, 0.174759, 0.173191, 0.058678, 0.021228, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.015761, 0.000000, 0.017066, 0.011394, 0.000000, 0.000000, 0.043413, 0.060174, 0.049244, 0.027129, 0.013704, 0.000000, 0.150998, 0.293330, 0.202318, 0.056618, 0.021501, 0.000000, 0.357072, 0.643430, 0.464442, 0.116592, 0.029703, 0.000000, 0.232416, 0.497467, 0.293655, 0.076471, 0.020267, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.095232, 0.123806, 0.070722, 0.025824, 0.012241, 0.000000, 0.369849, 0.438258, 0.222243, 0.051682, 0.018028, 0.000000, 0.446625, 0.724769, 0.248157, 0.053908, 0.017130, 0.000000, 0.173632, 0.246347, 0.131466, 0.035557, 0.015201, 0.000000, 0.050405, 0.043208, 0.037098, 0.018056, 0.000000, 0.000000, 0.015052, 0.019514, 0.013829, 0.000000, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.023864, 0.035981, 0.036047, 0.025717, 0.000000, 0.000000, 0.063493, 0.157205, 0.161928, 0.067447, 0.028056, 0.000000, 0.180835, 0.388458, 0.598486, 0.187703, 0.051629, 0.000000, 0.170932, 0.493633, 0.544434, 0.164707, 0.037749, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.012472, 0.023142, 0.019861, 0.018851, 0.000000, 0.019073, 0.045349, 0.105438, 0.125783, 0.055934, 0.000000, 0.029840, 0.096967, 0.358031, 0.462265, 0.158498, 0.013990, 0.020473, 0.136404, 0.520302, 0.741206, 0.256764, 0.000000, 0.024618, 0.090256, 0.244171, 0.266107, 0.126206};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.024590, 0.000000, 0.029012, 0.017158, 0.000000, 0.000000, 0.074874, 0.125183, 0.101209, 0.042791, 0.019088, 0.000000, 0.204437, 0.509963, 0.350390, 0.095326, 0.029111, 0.000000, 0.320504, 0.527528, 0.474774, 0.117925, 0.033212, 0.000000, 0.129347, 0.270556, 0.183465, 0.060103, 0.018929, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.021255, 0.038665, 0.041764, 0.000000, 0.000000, 0.013975, 0.042046, 0.120473, 0.204620, 0.000000, 0.000000, 0.021738, 0.076528, 0.270178, 0.695101, 0.000000, 0.000000, 0.022805, 0.083121, 0.331421, 0.623749};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.097998, 0.337090, 0.618547, 0.291397, 0.070582, 0.017165, 0.087983, 0.341180, 0.601380, 0.322993, 0.084723, 0.017301, 0.041995, 0.116049, 0.160473, 0.099960, 0.032057, 0.014667, 0.018688, 0.034285, 0.039357, 0.031418, 0.017872, 0.000000, 0.000000, 0.000000, 0.013858, 0.010576, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.022504, 0.021458, 0.016948, 0.000000, 0.013987, 0.030928, 0.072227, 0.105718, 0.072469, 0.026397, 0.019685, 0.067047, 0.236685, 0.393884, 0.235983, 0.052493, 0.030788, 0.050843, 0.389146, 0.776243, 0.423646, 0.087715, 0.021105, 0.058470, 0.239966, 0.348085, 0.170035, 0.053239};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.023312, 0.025940, 0.021628, 0.000000, 0.000000, 0.025953, 0.066922, 0.104357, 0.074866, 0.000000, 0.000000, 0.052170, 0.224156, 0.458447, 0.299247, 0.000000, 0.019514, 0.087889, 0.359248, 0.800952, 0.452744};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.021565, 0.020953, 0.000000, 0.000000, 0.000000, 0.000000, 0.087459, 0.066644, 0.031942, 0.000000, 0.000000, 0.000000, 0.366087, 0.303379, 0.081578, 0.023989, 0.000000, 0.000000, 0.785025, 0.492663, 0.104619, 0.026343, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.019013, 0.016450, 0.000000, 0.000000, 0.015455, 0.031813, 0.038663, 0.063266, 0.000000, 0.000000, 0.026874, 0.092573, 0.291930, 0.316713, 0.000000, 0.013802, 0.032798, 0.151517, 0.508444, 0.742719, 0.000000, 0.000000, 0.023911, 0.088476, 0.232481, 0.363018, 0.000000, 0.000000, 0.018193, 0.042967, 0.086912, 0.087561};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.022233, 0.022396, 0.015065, 0.000000, 0.000000, 0.025878, 0.069056, 0.111447, 0.078553, 0.030329, 0.016445, 0.058333, 0.201349, 0.403177, 0.274265, 0.064979, 0.024683, 0.041764, 0.326065, 0.789577, 0.482944, 0.115720, 0.018026, 0.048746, 0.200137, 0.338622, 0.198070, 0.064431};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.038574, 0.029029, 0.016833, 0.000000, 0.000000, 0.000000, 0.183887, 0.097777, 0.031372, 0.013574, 0.000000, 0.000000, 0.579345, 0.344530, 0.067387, 0.019604, 0.000000, 0.000000, 0.640337, 0.281007, 0.053297, 0.018436, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.014067, 0.000000, 0.000000, 0.000000, 0.042897, 0.048354, 0.032059, 0.018234, 0.000000, 0.000000, 0.186630, 0.216379, 0.102659, 0.030436, 0.000000, 0.000000, 0.527399, 0.719393, 0.263569, 0.056438, 0.019927, 0.000000, 0.428647, 0.560699, 0.180715, 0.046330, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.032347, 0.034882, 0.026699, 0.000000, 0.000000, 0.000000, 0.117859, 0.167871, 0.097886, 0.031728, 0.000000, 0.000000, 0.398565, 0.600033, 0.296719, 0.068614, 0.021739, 0.000000, 0.429712, 0.699417, 0.273752, 0.062641, 0.017391, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.018718, 0.000000, 0.000000, 0.000000, 0.027240, 0.049160, 0.052481, 0.035756, 0.016885, 0.000000, 0.070462, 0.213331, 0.240946, 0.102119, 0.036971, 0.000000, 0.166285, 0.382310, 0.726038, 0.239005, 0.064914, 0.019439, 0.119839, 0.383983, 0.489156, 0.170022, 0.040798, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.132459, 0.192564, 0.114788, 0.038649, 0.015627, 0.000000, 0.382760, 0.614049, 0.325635, 0.076643, 0.020681, 0.000000, 0.322621, 0.595020, 0.262209, 0.062196, 0.017640, 0.000000, 0.104403, 0.166094, 0.106040, 0.035630, 0.014446, 0.000000, 0.033640, 0.031126, 0.027444, 0.015993, 0.000000, 0.000000, 0.013266, 0.014373, 0.010249, 0.000000, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.015900, 0.021199, 0.020437, 0.018959, 0.000000, 0.015395, 0.035692, 0.094882, 0.134592, 0.071347, 0.000000, 0.023183, 0.070158, 0.295956, 0.492279, 0.221409, 0.000000, 0.016368, 0.091842, 0.398759, 0.764637, 0.352558, 0.000000, 0.012609, 0.063946, 0.210232, 0.278566, 0.165933};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.094108, 0.148008, 0.110707, 0.045347, 0.016929, 0.000000, 0.267946, 0.499551, 0.386369, 0.096550, 0.026482, 0.000000, 0.274044, 0.647134, 0.370185, 0.091637, 0.023952, 0.000000, 0.098220, 0.200633, 0.152580, 0.050600, 0.017642, 0.000000, 0.037154, 0.032949, 0.033693, 0.020887, 0.000000, 0.000000, 0.013777, 0.016812, 0.013583, 0.011509, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.017580, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.069802, 0.045130, 0.019673, 0.000000, 0.000000, 0.000000, 0.331648, 0.144132, 0.043350, 0.000000, 0.000000, 0.000000, 0.718404, 0.369941, 0.070376, 0.018830, 0.000000, 0.000000, 0.443971, 0.203250, 0.040791, 0.015601, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.018720, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.069234, 0.050647, 0.022202, 0.000000, 0.000000, 0.000000, 0.317940, 0.178030, 0.052603, 0.018003, 0.000000, 0.000000, 0.774178, 0.470650, 0.096733, 0.025893, 0.000000, 0.000000, 0.467638, 0.277599, 0.056417, 0.018926, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.028091, 0.027885, 0.018549, 0.000000, 0.000000, 0.000000, 0.117111, 0.113777, 0.056091, 0.021061, 0.000000, 0.000000, 0.459685, 0.495852, 0.159772, 0.040240, 0.000000, 0.000000, 0.655408, 0.662589, 0.173472, 0.041177, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.043858, 0.000000, 0.068819, 0.033652, 0.000000, 0.000000, 0.116620, 0.296458, 0.255861, 0.090895, 0.025484, 0.000000, 0.206892, 0.679612, 0.599038, 0.158365, 0.042477, 0.000000, 0.163972, 0.264993, 0.330413, 0.107048, 0.034971, 0.000000, 0.050549, 0.104777, 0.090352, 0.042711, 0.016842, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.080768, 0.051542, 0.020913, 0.000000, 0.000000, 0.000000, 0.398320, 0.119557, 0.039168, 0.013430, 0.000000, 0.000000, 0.694951, 0.225114, 0.042993, 0.015382, 0.000000, 0.000000, 0.282811, 0.122158, 0.035650, 0.012809, 0.000000, 0.000000, 0.068853, 0.036522, 0.017953, 0.000000, 0.000000, 0.000000, 0.017815, 0.019235, 0.000000, 0.000000, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.651769, 0.312173, 0.069903, 0.018764, 0.000000, 0.000000, 0.547420, 0.273963, 0.065797, 0.018165, 0.000000, 0.000000, 0.153507, 0.093400, 0.030909, 0.012899, 0.000000, 0.000000, 0.033389, 0.027465, 0.015971, 0.000000, 0.000000, 0.000000, 0.013511, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.013550, 0.014688, 0.000000, 0.000000, 0.000000, 0.023533, 0.027694, 0.050745, 0.035584, 0.000000, 0.000000, 0.052964, 0.163489, 0.218629, 0.122219, 0.039406, 0.014170, 0.096928, 0.427932, 0.704911, 0.272335, 0.074204, 0.016818, 0.103149, 0.216215, 0.517323, 0.226478, 0.068681, 0.018261, 0.040564, 0.114384, 0.149336, 0.085667, 0.028427, 0.013457};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.018619, 0.000000, 0.000000, 0.000000, 0.000000, 0.088518, 0.039852, 0.028198, 0.000000, 0.000000, 0.000000, 0.396111, 0.204429, 0.050025, 0.018738, 0.000000, 0.000000, 0.792292, 0.349450, 0.084703, 0.019453, 0.000000, 0.000000, 0.373098, 0.201986, 0.054888, 0.017043, 0.000000, 0.000000, 0.088782, 0.069321, 0.025144, 0.000000, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.020129, 0.027945, 0.025003, 0.015886, 0.000000, 0.000000, 0.060192, 0.111092, 0.074874, 0.034861, 0.000000, 0.040026, 0.158171, 0.464544, 0.385144, 0.114355, 0.014950, 0.052571, 0.214960, 0.686249, 0.574226, 0.134396, 0.014120, 0.020124, 0.094497, 0.227356, 0.203346, 0.082994, 0.000000, 0.017493, 0.036984, 0.060103, 0.052481, 0.029565};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.024131, 0.031851, 0.026273, 0.021950, 0.000000, 0.021550, 0.059742, 0.161900, 0.182302, 0.078818, 0.000000, 0.033115, 0.121209, 0.471960, 0.596776, 0.180922, 0.013306, 0.013764, 0.122476, 0.456567, 0.601888, 0.217661, 0.000000, 0.022618, 0.068928, 0.170651, 0.180037, 0.091615};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.014303, 0.000000, 0.000000, 0.000000, 0.021899, 0.042825, 0.046579, 0.000000, 0.000000, 0.015971, 0.047865, 0.136346, 0.225674, 0.000000, 0.000000, 0.021466, 0.084722, 0.310665, 0.743110, 0.000000, 0.000000, 0.024086, 0.087725, 0.331146, 0.580496};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.019041, 0.064372, 0.278686, 0.685651, 0.000000, 0.000000, 0.017564, 0.055754, 0.228867, 0.592121, 0.000000, 0.000000, 0.000000, 0.029300, 0.074216, 0.139467, 0.000000, 0.000000, 0.000000, 0.000000, 0.021763, 0.028047, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.062899, 0.117164, 0.116964, 0.055901, 0.020055, 0.000000, 0.155374, 0.364145, 0.464212, 0.145565, 0.035485, 0.009813, 0.177461, 0.558852, 0.534643, 0.157861, 0.036546, 0.012927, 0.076745, 0.213585, 0.216746, 0.082328, 0.025522, 0.000000, 0.034367, 0.032199, 0.042519, 0.029406, 0.014165, 0.000000, 0.013811, 0.017456, 0.016912, 0.013290, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.020004, 0.000000, 0.023241, 0.000000, 0.000000, 0.027226, 0.075142, 0.136328, 0.097703, 0.000000, 0.018032, 0.042152, 0.193814, 0.494030, 0.357421, 0.000000, 0.000000, 0.055431, 0.253992, 0.638294, 0.514242, 0.000000, 0.000000, 0.039717, 0.136694, 0.277688, 0.210732};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.017082, 0.013170, 0.000000, 0.000000, 0.034901, 0.058742, 0.052835, 0.034238, 0.015417, 0.000000, 0.105271, 0.267680, 0.233816, 0.077131, 0.028056, 0.000000, 0.255664, 0.520840, 0.602988, 0.169471, 0.041070, 0.013549, 0.172207, 0.452734, 0.376039, 0.110998, 0.027900, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.016531, 0.000000, 0.020335, 0.000000, 0.000000, 0.000000, 0.044548, 0.080052, 0.070710, 0.036358, 0.016404, 0.000000, 0.127652, 0.335489, 0.296847, 0.092232, 0.030775, 0.000000, 0.272812, 0.532916, 0.599302, 0.165086, 0.042015, 0.000000, 0.146950, 0.370473, 0.306094, 0.089414, 0.023952, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.020335, 0.015143, 0.000000, 0.000000, 0.030928, 0.058989, 0.065150, 0.045328, 0.021535, 0.000000, 0.071263, 0.248378, 0.312576, 0.129620, 0.042332, 0.012486, 0.161271, 0.350828, 0.770329, 0.270587, 0.073079, 0.000000, 0.099564, 0.308475, 0.426890, 0.159357, 0.040535, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.014260, 0.000000, 0.000000, 0.000000, 0.025730, 0.045146, 0.045245, 0.000000, 0.000000, 0.018403, 0.054703, 0.151292, 0.218005, 0.000000, 0.000000, 0.023953, 0.106790, 0.378471, 0.712773, 0.000000, 0.000000, 0.027930, 0.107861, 0.391812, 0.580496};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.022588, 0.025515, 0.020182, 0.000000, 0.000000, 0.025383, 0.064823, 0.101036, 0.074153, 0.000000, 0.000000, 0.049453, 0.212208, 0.443093, 0.312184, 0.000000, 0.019461, 0.085839, 0.339926, 0.779895, 0.469964};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.016212, 0.000000, 0.000000, 0.000000, 0.000000, 0.062043, 0.035200, 0.033079, 0.000000, 0.000000, 0.000000, 0.283747, 0.234784, 0.074194, 0.023773, 0.000000, 0.000000, 0.697741, 0.519012, 0.152866, 0.032822, 0.013897, 0.000000, 0.479227, 0.346724, 0.107330, 0.028660, 0.000000, 0.000000, 0.114040, 0.112583, 0.041016, 0.017136, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.340939, 0.453482, 0.175717, 0.044826, 0.016730, 0.000000, 0.493667, 0.740420, 0.279496, 0.063928, 0.018802, 0.000000, 0.207136, 0.275883, 0.116998, 0.034121, 0.013656, 0.000000, 0.049585, 0.060698, 0.041878, 0.019168, 0.000000, 0.000000, 0.017417, 0.015814, 0.015016, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.018641, 0.017953, 0.000000, 0.000000, 0.000000, 0.048075, 0.055726, 0.083239, 0.039312, 0.000000, 0.000000, 0.122863, 0.337939, 0.298900, 0.104040, 0.029855, 0.000000, 0.196408, 0.666914, 0.627536, 0.162741, 0.043208, 0.000000, 0.146338, 0.219917, 0.292643, 0.100857, 0.033836, 0.000000, 0.044011, 0.082261, 0.076615, 0.039898, 0.016846, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.018166, 0.024097, 0.022774, 0.021610, 0.000000, 0.015182, 0.038221, 0.108622, 0.154904, 0.082534, 0.000000, 0.023111, 0.072725, 0.315295, 0.557445, 0.250233, 0.000000, 0.016755, 0.088372, 0.367575, 0.716753, 0.339709, 0.000000, 0.019035, 0.055603, 0.175193, 0.248998, 0.147556};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.262068, 0.671371, 0.593362, 0.158567, 0.036202, 0.011715, 0.139329, 0.430197, 0.326177, 0.115184, 0.000000, 0.000000, 0.052210, 0.092678, 0.075880, 0.039714, 0.015172, 0.000000, 0.017982, 0.024349, 0.022816, 0.017501, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
    {
        float sample[TX_POSITIONS_COUNT] = {0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.023753, 0.000000, 0.017624, 0.000000, 0.000000, 0.000000, 0.090922, 0.088917, 0.041115, 0.019857, 0.000000, 0.000000, 0.379489, 0.361142, 0.119783, 0.030436, 0.000000, 0.000000, 0.715630, 0.666228, 0.191292, 0.040608, 0.000000, 0.000000, 0.318602, 0.315856, 0.091220, 0.027622, 0.000000, 0.000000};
        float x, y;
        predict(sample, &x, &y);
        add_sample(sample, x, y);
    }
}

int main()
{
    io_init();
    DEBUG_LED_INIT();

    if (load_model() != kTfLiteOk)
    {
        return 1;
    }

    while (!stdio_usb_connected())
    {
        sleep_ms(100); // Wait for USB connection
    }

    // Indicate that the program is running
    DEBUG_LED_SET(true);

    while (true)
    {
        // sleep_ms(1); // Sleep to avoid busy-waiting

        // Read a packet with a timeout
        IncomingPacket packet;
        int result = read_packet(100, &packet);
        if (result == PICO_ERROR_TIMEOUT)
        {
            continue;
        }

        float x, y;
        if (predict(packet.leds, &x, &y) != kTfLiteOk)
        {
            continue;
        }

        DEBUG_LED_BLINK(5, 100);

        if (packet.eval)
        {
            write_packet(x, y);
            continue;
        }

        // If not evaluating, do led degradation logic
        bool updated = add_sample(packet.leds, x, y);

        if (updated) {
            write_packet(get_scalars()[0], get_scalars()[1]); // Send the first two scalars as an example
        }
    }

    return 0;
}
